# 1.1 什么是软路由

> 相信很多追求无线网络质量的小伙伴或者有特殊网络访问需求的小伙伴都听说软路由这个名词，那究竟什么是软路由呢？软路由和普通路由器有和区别呢？本篇文章将比较浅显的介绍软路由。


传统的路由器品牌有：华硕、领势、华为、小米、水星、TP-LINK，这些传统的路由器，在玩软路由的群体中，我们称之为**硬路由**。


为什么会出现软路由技术？原因就在于节省资金。软路由与传统路由设备在性能和功能上没有太大区别，购买一台传统路由器少则数千，多则上万。而软路由只需要一台PC机和几百元一套的软路由操作系统就可以了。

此外，企业规模扩大后，管理员只需要升级PC机就能够满足未来的需求，并且随着软件的更新和改进，功能和完善度得到很大的提高，在功能和性能等方面不逊色于价值不菲的硬件路由器，其性价比非常高。

目前，软路由技术应用最广泛的领域是网吧，其次是中小企业。得益于软路由的成本，网吧业主在前期采购时只需要购买一台配置较高的PC机，再购买一套软路由操作系统就可以实现硬件路由的全部功能，价格要比一台高档硬件路由器便宜不少，而且网吧扩大经营后如果软路由的性能不够强大，只需直接升级PC机就可以提升性能，而无需重新购置硬件路由器。中小企业也是同样的道理。

但是软路由自身也有缺陷，例如以软件形式存在需要安装；配置起来比较繁琐需要有专业人士指导；对PC机的依赖性很大，如果PC机崩溃，其路由功能就无从谈起。耗电量大也是其缺点之一，如果出现故障，解决起来也很麻烦。

总体来讲，软路由的优势是十分明显的，特别是随着PC整机价格的下降，一套软路由设备所需的投资成本可以得到进一步的缩减。自从软路由技术进入市场后，每年都有许多新开张的网吧和中小企业使用该项技术，但是软路由技术还没有达到十分完善的程度，所以大型企业几乎没有敢于尝试软路由的勇气和信心。我们可以相信，随着软路由技术的不断进步，软路由会在未来的几年内得到广泛的运用，以取代市场中的低端硬件路由器。而且开发人员也会开发出更简单的配置界面，供初级用户使用，进一步缩减企业的投资与管理成本。




对于爱快这两个字，相信一些网络设备的发烧友们一定十分熟悉。混迹于论坛的发烧友们酷爱自己DIY软路由，或者给自己路由器刷上开源系统，添加自己需要的功能。除了如OpenWrt、潘多拉、Tomato、老毛子等国外的路由器固件外，还有一群国内发烧友自己编写的固件深受众多技术大拿的好评——这就是爱快路由系统的前身。

在2013年，网络正快速进入到各行各业的商业场景中，整个商业场景也对网络的需求产生了一个巨大的增长。尤其是WiFi网络的普及，要求小微企业和商户也需要在自己的环境中部署WiFi网络。面对如此机会，技术出身的赵东方成立了爱快这一公司，而且爱快最早的成员几乎都来自于社区、论坛中为爱快固件做出过贡献的技术达人，甚至有的员工本身就是爱快的粉丝。

公司的第一个产品iKuai OS很快推出，但令人惊讶的是，赵东方选择了让用户免费使用iKuai OS。因为纵观国内外市场，出售网络设备的系统，也是厂商重要的收入来源之一。爱快选择了免费，那该怎么赚钱？赵东方决心从硬件入手。

“all in one就是爱快成立之初的策略。”赵东方分享道。彼时的网络设备都是独立存在的，比如，企业想要完成组网要部署路由器、交换机、防火墙、AC、AP等，设备数量繁多。诸多网络硬件的性能越来越冗余，其实完全可以将所有功能集中到一台设备上。所以，在推出免费的iKuai OS供用户使用后，爱快进而推出了搭载iKuai OS的硬件产品，形成了自身独特的商业模式。

原本网络设备厂商是靠卖设备、卖license、卖系统赚钱，但爱快走出了创新的商业模式，甚至对于行业来说有些颠覆的意味。也正因为在商业模式上比较超前，公司在融资方面遇到了困难和阻碍。简而言之，就是没有对标的产品。许多创业者在与投资人的对谈中，常常会表达自己是外国成熟产品的中国版。但爱快的商业模式在国内外没有可以对比的产品，投资人不明白公司以后靠什么赚钱。

但赵东方坚定地认为，只要用户规模做上去，公司一定会赚钱。在没人认可的困难阶段，每每见到论坛上大家对iKuai OS的火热讨论、建议和应用实测，还有很多用户留言给到的鼓励，赵东方就会觉得全身重新充满了力量，对于爱快的商业模式也更加地坚定。


从用户层面上来看，其它厂商与用户的关系仅仅停留在“用户”层面，你买我的商品，那我提供相应的服务，仅此而已。但爱快与其它网络设备厂商最大的不同，就在于用户的拥戴，甚至可以说许多用户就是爱快的粉丝。从技术社区走出来的爱快，本身在社区中就积累了大量的粉丝。在品牌商业化后，粉丝中许多人都购买了爱快的产品，并且提出了在实际部署中出现的问题，帮助爱快去改进商品。

对于传统厂商来说，用户的声音往往从经销商传来，用户的声音传达会出现错漏以及变形的现象。但通过爱快原本保留的技术论坛，无论是用户还是粉丝，在爱快新品推出的第一时间通常会自发的进行debug，帮助爱快改进产品，这些来自一线的声音成为了爱快最宝贵的财富。赵东方甚至表示，“没有用户和粉丝在论坛上的发声，爱快就不会有现在的发展。”

除了线上论坛外，爱快还定期组织线下沙龙，邀请用户和粉丝与公司人员齐聚一堂，倾听用户和粉丝的声音。在面对面交流中，倾听用户又有了什么新需求，在实际使用中出现了哪些问题等等，收集用户的声音后再针对这些意见和建议进行研发，进一步改进产品。

比如在疫情期间，论坛上的一位粉丝就表示，“自己目前的网络环境中存在国内外好几个品牌的交换机，能不能通过爱快的产品对这些交换机进行统一管理？”。赵东方看到后，马上和研发人员进行远程会议，共同开发统一管理这一功能。两个月后，统一管理功能上线，帮助用户将网络中不同品牌的交换机和物联网设备，统一在爱快的平台上进行管理，满足了用户的需求。

截止到目前，爱快在全球活跃的企业数量已经超过50万，用户甚至可以直接在论坛上找到赵东方，并提出自己的意见。用户强烈的认同感是爱快与其他厂商最主要的区别，用户与爱快就像多年的朋友一样，这也是爱快独特的企业文化。

无惧外部因素 坚定执行三个中心战略

这两年正当WiFi 6产品在企业的普及期，企业对于WiFi 6路由和AP有着大量的需求。本该是爱快又一个高速发展的时期，但2021年经历了全球芯片短缺，目前来看芯片短缺还将持续，这对于爱快来说不可谓不困难。


##### 1. 软路由定义

>**[百度百科](https://baike.baidu.com/item/%E8%BD%AF%E8%B7%AF%E7%94%B1/4824918#:~:text=%E8%BD%AF%E8%B7%AF%E7%94%B1%E6%98%AF%E6%8C%87%E5%88%A9%E7%94%A8,%E8%AE%BE%E5%AE%9A%E7%9A%84%E8%B7%AF%E7%94%B1%E5%99%A8%E5%8A%9F%E8%83%BD%E3%80%82)：[软路由](https://baike.baidu.com/item/%E8%BD%AF%E8%B7%AF%E7%94%B1/4824918#:~:text=%E8%BD%AF%E8%B7%AF%E7%94%B1%E6%98%AF%E6%8C%87%E5%88%A9%E7%94%A8,%E8%AE%BE%E5%AE%9A%E7%9A%84%E8%B7%AF%E7%94%B1%E5%99%A8%E5%8A%9F%E8%83%BD%E3%80%82)**是指利用台式机或服务器配合软件形成路由解决方案，主要靠软件的设置，达成路由器的功能；而硬路由则是以特有的硬设备，包括处理器、电源供应、嵌入式软件，提供设定的路由器功能。




就像计算机有软件和硬件的区别，路由器也有「软」「硬」之分。

通常我们在各个电商平台上搜索「路由器」这三个关键词所得到的几乎所有商品都属于硬路由，它是由路由器厂商基于自行开发或是开源的嵌入式设备操作系统，根据特定的硬件设备，设计出来的传统硬件设备。

而与之对应的软路由，是基于软件工具在普通的硬件上来实现传统路由器的功能。我们可以在旧电脑、工控机、开发板、服务器甚至是硬件虚拟机中安装软路由系统，然后通过强大的软件实现各种各样的功能。

与传统硬路由的MIPS、ARM 平台处理器不同，软路由常使用的 X86/64 处理器有着更强劲的性能，带得动更多的插件。同时软路由可以配备更好的网卡，也保证了网络的稳定和更多设备的接入；

软路由的功能更加多样。配合丰富的软件生态，我们能在软路由上实现更多有趣的功能，比如离线下载、去广告、QOS、流量控制、多线路控制、链路负载均衡等，甚至可以根据自己的需求自行开发软件。


当然，有利必有弊，软路由也不是万能的，它也有一些缺点。首先，软路由的功耗更高。软路由因为硬件规格更高，所以它的功耗自然也就增加了，平均功率要比硬路由高 10-20W；其次，软路由的无线信号略逊。软路由在无线 WiFi 这个方面和硬路由可以说是云泥之别，硬路由有厂商专门设计的电路板布局、独立的 WiFi 信号放大装置、防止电子信号干扰的屏蔽罩等等，这些都是软路由不具备的配置；最后，软路由的学习成本更高。硬路由在厂商的多年开发设计下，各种操作配置趋向简易化，通过傻瓜式的操作我们就能完成基本的配置。而对于软路由来说，如果没有一点的网络基础和学习实践能力，并非所有人都能驾驭。

##### 2. 外观区别

软路由通常不带无线WiFi功能，相对而言硬路由最基础的功能即是发射无线Wi-Fi。![未标题-1](https://i.loli.net/2020/07/19/kpdOUnEsi1cLx36.png)

##### 3. 功能差别

性能：软路由性能更强，强劲的 CPU 给折腾各种网络插件提供了前提条件。


##### 4. 图表对比软硬之别

|       功能       |             软路由             |          硬路由           |
| :--------------: | :----------------------------: | :-----------------------: |
|       配置       |               高               |            低             |
|       WiFi       | 无```需要配合硬路由发射WiFi``` |            有             |
|       功能       |              强大              |           偏弱            |
|       功耗       |       视CPU，10-50W不等        |           约10W           |
|       固件       |    多```ROS/LEDE/iKuai等```    | 少 ```大部分不支持刷机``` |
|     学习成本     |               高               |            低             |
| 价格```同级别``` |              便宜              |           昂贵            |

##### 5. 谁适合折腾软路由：

- 你的宽带最好高于 100M，如果你是「小水管」的带宽，还是优先考虑升级带宽
- 有特殊的插件需求，比如：**去广告、内网文件共享服务器、内网设备管控、解锁部分流媒体**等；
- 家里的网络设备以及对网络的需求较复杂的人，比如有 P2P 下载、在线视频、在线游戏、访问海外资源、精准的流量控制、家中有大量的联网设备等
- 对网络知识有一定基础 或 对这块有强烈的学习和实践欲望，以及一颗爱折腾的心；
- 有一定软硬件知识 和 动手能力！



##### 恩山论坛


恩山无线论坛被称为无线路由器爱好者的圣地，该网站是一个无论路由器技术交流论坛，你这里可以找到各种无线路由器硬件改造以及故障维修教程。

如果你想给你你的路由器刷机那么这里可以找到几乎所有的路由器改版固件，DD、老毛子、Tomato和软路由常用的Openwrt。



##### 路由器历史

2002年10月，Linksys公司（由一对移民美国的台湾夫妇曹英伟和吴健创建）发布了名为WRT54G的无线路由器的第1个版本，该机型基于32-bit MIPS芯片，搭载了基于Linux内核的固件，并且可以刷机；WRT的含义，Linksys原意可能是指 Wirless Receiver/Transmitter，现在大家都解读为Wirless RouTer；

2003年3月，Cisco公司以5亿美元的价格收购了Linksys，成为其子公司，此后Linksys推出的产品都标记上 Linksys by Cisco；

2003年6月，Linux Kernel 开发组听闻WRT54G搭载了包含GPL开源协议的Linux代码，要求Linksys开源相关部分的代码，为此FSF(自由软件基金会)还起诉Cisco；

2003年7月，尽管各方对WRT54G固件是否应该开源有所争议，不过Cisco和Linksys迫于外界压力还是开源了WRT54G固件，至此，各种定制固件和路由器刷机开始流行了起来（Lintel在其2012年的一份文档中说是2003年3月思科被迫开源，其实有误，3月份思科和领势还在忙收购的事吧）；

2004年1月，OpenWrt 项目启动（据其官网自我介绍，未找到源码或论坛讨论等其他佐证），基于WRT54G固件开发，后来（不知道是多久以后，根据2004和2005年的论坛信息显示，Alchemy如日中天的时候OpenWrt还是个弟弟）发布名为“stable release”的版本；

2004年6月，Sevasoft公司基于Linksys固件放出了Alchemy v1.0，他们做的固件在当时是最流行的，在v1.0之前的pre版本就很流行了，开发也很活跃，Sevasoft也是WRT54G系列最早的开源开发者之一；

2004年11月， Timothy Jans(又叫 Avenger 2.0)，基于Linksys开源的WRT54G系列的固件发布了HyperWRT，主要是开放一些官版受限的功能，但又尽可能保持原汁原味；

2005年1-2月，Linksys为了支持这些第三方固件把WRT54G v4机型拿来重新上市，并重命名为WRT54GL其中L是指Linux，据Linksys相关负责人在2018年称，WRT54GL是迄今为止最畅销的路由器；Sveasoft公司鉴于自己在Alchemy固件上取得的巨大成功，有了转商业运营赚钱的想法，但限于GPL协议，又不得不开源，想出的变通做法就是，让用户每年交20美元的订阅费，付费用户可以进入论坛享用商用版固件，而免费用户只有使用更新较慢的版本，Alchemy社区内也有人看不惯这种收费行为，于是自行修改Alchemy然后对外发布；

2005年1月22日，Sebastian Gottschall(又叫BrainSlayer)基于Alchemy v16固件开发了第一版DD-WRT v16固件，版本号沿用Alchemy的，DD是德国东部Dresden城市的汽车牌照的缩写，该城市是DD-WRT开发组生活的地方；

2005年2月，HyperWRT原版停更， tofu和 Thibor 两名开发者基于它继续开发，项目名为 HyperWRT +tofu 和 HyperWRT Thibor；

2005年中，OpenWrt 发布了名为 “experimental”的版本；

2005年12月，DD-WRT v23发布，鉴于Alchemy社区的内斗和商业付费的风险，DD-WRT自v23开始将固件核心替换为了OpenWrt；

2006年2月，HyperWRT+tofu停止开发，合并入HyperWRT Thibor，后者开发至2008年2月停更；

2006年12月， Jonathan Zarate发布了 Tomato(番茄，也简称TT) 的第一个版本，基于HyperWRT为Linksys WRT54G系列和Buffalo WHR-G54S系列机型定制更易用功能更强的固件，主要支持博通Broadcom的系列芯片；

2007年1月，OpenWrt发布了代号为White Russian的固件，这个版本之后的OpenWrt才变得越发流行；

2008年7月14日，Eric Bishop基于OpenWrt Kamikaze(v7.x和v8.x)发布了Gargoyle(石像鬼)固件的第一个稳定版v1.0，加入了自己的包管理器，格式为 gpkg；

2008年7月26日，DD-WRT v24 SP1 发布，然后至今停更，从2010年起DD-WRT社区诸多开发者在不断发布各种变体版本的固件；

2010年，华硕ASUS发布了RT-N56U路由器（具体发布日期没找到，华硕官网说RT-N56U获得了2010年的iF设计奖），该机型搭载的是联发科MTK的芯片；

2010年6月28日，Tomato(番茄) 官方更新了v1.28稳定版，然后至今还未更新；

2011年1月，华硕在CES上发布了RT-N66U路由器，该机型最早使用Asuswrt固件的（华硕更早机器搭载的固件还没统一成型），Asuswrt是基于Tomato-RT/Tomato-USB开发，主要支持博通Broadcom芯片和部分高通Atheros芯片；同月，高通Qualcomm收购创锐讯Atheros为全资子公司，后者主要研发无线通讯芯片；

2012年5月3日，俄罗斯人Andy Padavan(老毛子)创建了rt-n56u项目并提交初始化代码，基于 Asuswrt-Merlin 固件开发，由于RT-N56U搭载的是联发科芯片，后来Padavan被移植到多款基于联发科芯片的路由；

2012年6月19日，加拿大人Eric Sauvageau创建了Asuswrt-Merlin(梅林) 项目并提交了初始化代码，基于 Asuswrt 3.0.0.3.144；

2013年10月，Cisco公司将Linksys卖给了Belkin公司，Linksys至此与思科无关，新东家Belkin保留了Linksys原品牌；

2013年-2016年，国内各大神开始在论坛活跃最频繁的时间段，发布相关教程和他们基于OpenWrt/LEDE、Tomato、DD等定制的固件，Lean、Lintel、佐须之男都出名在这个时段；

2016年3月1日，佐须之男在Tomato基础上(应该是基于Tomato v1.28)，发布了Tomato Phoenix(不死鸟)的第一个公开测试版，主要增加了Tomato对联发科芯片的支持；

2016年5月，OpenWrt 的部分核心成员基于OpenWrt另起炉灶开了LEDE项目，主要因看不惯既有社区的乌烟瘴气和旧源码的质量；

2017年1月24日，Lintel宣布因团队接手Newifi系列路由的固件维护，而PandoraBox(潘多拉)停止更新，该固件是为了照顾部分英文水平较菜和动手能力较差的玩家，对OpenWRT/LEDE做了本地化，并预编译或安装了大陆用户常用的某些功能，最早发布在 openwrt.org.cn上；

2017年2月，LEDE的第一个稳定版发布，版本号为v17.01.0，LEDE的主要改进是重构了OpenWrt代码，替换了文件系统改为JFFS2，更友好的Web界面LuCI，更多的opkg包支持等；

2018年1月，OpenWrt 老项目和离家出走的LEDE决定复合，名为OpenWrt/LEDE，在原LEDE团队的规矩和主导下运作，但名字仍叫OpenWrt；

2018-2019年，OpenWrt和LEDE主要在版本号为v18.x的代码上完成合并工作，DD-WRT、Asuswrt-Merlin、Padavan等活跃项目也在持续更新。

现在，随着路由固件定制、开发技术的普及，各路论坛里基于OpenWrt/LEDE、DD-WRT、Merlin、Padavan、Tomato等知名固件的各种私人订制层出不穷
